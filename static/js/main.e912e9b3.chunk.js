(this["webpackJsonpski-app"]=this["webpackJsonpski-app"]||[]).push([[0],{19:function(e,n,t){},20:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var a,l=t(1),s=t(5),c=t.n(s),i=(t(19),t(20),t(0)),r=function(e){var n=e.className,t=void 0===n?"":n,a=e.children;return Object(i.jsx)("div",{className:"BaseWrapper ".concat(t),children:a})},d=t(3),o=t(6),m=t(9),u=t.n(m),b=t(12),h=t(4),j="http://localhost:3002/",f={"Content-Type":"application/json"},x=Object.freeze({PENDING:"PENDING",FULFILLED:"FULFILLED",REJECTED:"REJECTED"}),O="skiLengthProfiles",g=Object(h.b)("".concat(O,"/getSkiLengthProfiles"),Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(j+"ski-length-profiles").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))),p=Object(h.c)({name:O,initialState:{profiles:[],status:null},reducers:{},extraReducers:(a={},Object(o.a)(a,g.pending,(function(e){e.status=x.PENDING})),Object(o.a)(a,g.fulfilled,(function(e,n){var t=n.payload;e.status=x.FULFILLED,e.profiles=t})),Object(o.a)(a,g.rejected,(function(e){e.status=x.REJECTED})),a)}).reducer,v=function(){var e=Object(d.b)(),n=Object(d.c)((function(e){return e.skiLengthProfiles.profiles}));return Object(l.useEffect)((function(){e(g())}),[e]),n&&0===n.length?null:Object(i.jsxs)("table",{className:"SkiLengthTable w-11/12 md:w-8/12 self-center mt-6",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"",children:[Object(i.jsx)("th",{children:"Namn"}),Object(i.jsx)("th",{className:"hidden sm:table-cell",children:"\xc5lder"}),Object(i.jsx)("th",{className:"hidden sm:table-cell",children:"L\xe4ngd"}),Object(i.jsx)("th",{children:"Skidl\xe4ngd"}),Object(i.jsx)("th",{className:"hidden sm:table-cell",children:"Skidstil"})]})}),n?n.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{className:"",children:[Object(i.jsx)("td",{children:e.name||""}),Object(i.jsx)("td",{className:"hidden sm:table-cell",children:e.age||""}),Object(i.jsx)("td",{className:"hidden sm:table-cell",children:e.height+"cm"||!1}),Object(i.jsx)("td",{children:(n=e.skiLengthRange.min,t=e.skiLengthRange.max,(n===t?n+"cm":n+"-"+t+"cm")||"")}),e.age>9?Object(i.jsx)("td",{className:"hidden sm:table-cell",children:e.skiStyle}):Object(i.jsx)("td",{className:"hidden sm:table-cell",children:"Barnskidor"})]})},e._id);var n,t})):Object(i.jsx)("p",{children:"Inga profiler tillagda"})]})},N=t(2),k=function(e){var n=Object(l.useState)(e),t=Object(N.a)(n,2),a=t[0],s=t[1];return[a,s,function(e){s(e.target.value)}]},C=function(e){var n=e.className,t=void 0===n?"":n,a=e.children,l=e.onClick,s=e.disabled,c=e.type;return Object(i.jsx)("button",{type:c||"button",disabled:s,onClick:l,className:"BaseBtn ".concat(t),children:a})},w=function(e){var n=e.list,t=e.buttonClass,a=e.handleIsOpen,l=e.handleChange,s=e.isOpen,c=e.selected,r=e.className;return Object(i.jsx)("div",{className:r?"BaseDropdownContent ".concat(r):"BaseDropdownContent",children:null===n||void 0===n?void 0:n.map((function(e,n){return(null===c||void 0===c?void 0:c.name)!==(null===e||void 0===e?void 0:e.name)&&Object(i.jsx)("button",{type:"button",onClick:function(){return function(e,n){a(!s),l(e,n)}(e,c)},className:t,children:Object(i.jsx)("span",{children:null===e||void 0===e?void 0:e.name})},n)}))})},y=t(13),L=t.n(y),S=function(e){var n=e.list,t=e.selected,a=e.icon,s=e.buttonClass,c=e.iconClass,r=e.selectedClass,d=e.handleChange,o=e.index,m=e.contentClass,u=e.className,b=Object(l.useState)(!1),h=Object(N.a)(b,2),j=h[0],f=h[1],x=function(){f(!j)},O=function(e){var n=Object(l.useRef)();return Object(l.useEffect)((function(){var t=function(t){var a;n&&!(null===(a=n.current)||void 0===a?void 0:a.contains(t.target))&&e()};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}})),n}((function(){f(!1)}));return Object(i.jsxs)("div",{className:u?"BaseDropdown ".concat(u):"BaseDropdown",ref:O,children:[Object(i.jsxs)("button",{type:"button",className:r,onClick:function(){return x()},children:[Object(i.jsx)("span",{children:null===t||void 0===t?void 0:t.name}),Object(i.jsx)(L.a,{path:a,size:1})]}),j&&Object(i.jsx)(w,{list:n,icon:a,buttonClass:s,iconClass:c,handleIsOpen:x,handleChange:d,isOpen:j,selected:t,index:o,className:m})]})},E=t(14),F=function(e){return e.every((function(e){return""!==e}))},D=function(e){var n,t,a=e.height,l=e.handleChangeHeight,s=e.age,c=e.handleChangeAge,r=e.name,d=e.handleChangeName,o=e.skiStyleList,m=e.skiStyle,u=e.handleChangeSkiStyle,b=e.skiLengthRange,h=e.handleSubmit;return Object(i.jsxs)("form",{onSubmit:h,className:"SkiLengthForm flex items-center  mt-6 flex flex-col",children:[Object(i.jsx)("h1",{className:"text-center font-bold text-3xl mb-4",children:"L\xe4ngdskidor"}),Object(i.jsx)("span",{className:"text-center mb-4",children:"H\xe4r kan ni ta reda p\xe5 hur l\xe5nga skidor ni ska ha"}),Object(i.jsxs)("div",{className:"flex flex-col md:flex-row m-4 space-x-0 md:space-x-2 space-y-4 md:space-y-0 w-8/12",children:[Object(i.jsxs)("div",{className:"flex flex-col w-full",children:[Object(i.jsx)("label",{className:"ml-2 mb-2 font-bold",htmlFor:"age",children:"\xc5lder (\xe5r)"}),Object(i.jsx)("input",{id:"age",className:"input-base min-w-full md:min-w-0",placeholder:"Ange \xe5lder",type:"number",max:"150",maxLength:"3",value:s,onChange:c})]}),Object(i.jsxs)("div",{className:"flex flex-col w-full",children:[Object(i.jsx)("label",{className:"ml-2 mb-2 font-bold",htmlFor:"length",children:"L\xe4ngd (cm)"}),Object(i.jsx)("input",{id:"length",className:"input-base min-w-full md:min-w-0",placeholder:"Personens l\xe4ngd",type:"number",min:"30",max:"300",maxLength:"3",value:a,onChange:l})]}),Object(i.jsxs)("div",{className:"flex flex-col w-full",children:[Object(i.jsx)("label",{className:"ml-2 mb-2 font-bold",htmlFor:"ski-style",children:"Skidstil"}),Object(i.jsx)(S,{id:"ski-style",list:o,selected:m,icon:E.a,handleChange:u,selectedClass:"input-base flex flex-row justify-between min-w-full md:hover:bg-gray-50",buttonClass:"flex flex-row w-full p-2 bg-white rounded-md md:hover:bg-gray-50",contentClass:"dropdown-content-base",className:"w-full min-w-full md:min-w-0"})]})]}),Object(i.jsx)("span",{className:"mb-6 block md:text-4xl text-4xl text-center font-bold text-blue-400",children:(n=null===b||void 0===b?void 0:b.min,t=null===b||void 0===b?void 0:b.max,n&&t?n===t?t+"cm":n+"-"+t+"cm":null)}),Object(i.jsxs)("div",{className:"flex flex-col m-4 space-y-6 w-8/12 items-center",children:[Object(i.jsxs)("div",{className:"flex flex-col md:w-4/12",children:[Object(i.jsx)("label",{className:"ml-2 mb-2 font-bold",htmlFor:"name",children:"Namn"}),Object(i.jsx)("input",{id:"name",className:"input-base",placeholder:"Profilnamn",type:"text",maxLength:"20",value:r,onChange:d})]}),Object(i.jsx)(C,{type:"submit",className:"btn-blue ".concat(F([s,a,m,r])?"":"opacity-50 cursor-not-allowed"),children:"Spara"})]})]})},P=function(){var e=Object(d.b)(),n=k(""),t=Object(N.a)(n,3),a=t[0],s=t[1],c=t[2],r=k(""),o=Object(N.a)(r,3),m=o[0],u=o[1],b=o[2],h=k(""),x=Object(N.a)(h,3),O=x[0],p=x[1],v=x[2],C=function(e){var n=Object(l.useState)(e),t=Object(N.a)(n,2),a=t[0],s=t[1];return[a,s,function(e){s(e)}]}({name:"Klassisk"}),w=Object(N.a)(C,3),y=w[0],L=w[1],S=w[2],E=Object(l.useState)({min:null,max:null}),F=Object(N.a)(E,2),P=F[0],I=F[1],B=function(n,t,a,l,s){var c={name:n||"Anonym",height:Number(t),age:Number(a),skiLengthRange:{min:l.min||30,max:l.max||270},skiStyle:s.name};fetch(j+"ski-length-profiles",{method:"POST",headers:f,body:JSON.stringify(c)}).then(e(g())).catch((function(e){console.error("Error:",e)}))};return Object(l.useEffect)((function(){var e=function(e,n){return{min:e=Math.min(e,207),max:n=Math.min(n,207)}};I(function(n,t,a){if(n&&t){var l={min:n=Number(n),max:n},s={min:n+10,max:n+20},c={min:n+20,max:n+20},i={min:n+10,max:n+15};return(t=Number(t))<5?e(l.min,l.max):t<9?e(s.min,s.max):"Klassisk"===a.name?e(c.min,c.max):e(i.min,i.max)}}(a,m,y))}),[a,m,y]),Object(i.jsx)(D,{height:a,handleChangeHeight:c,age:m,handleChangeAge:b,name:O,handleChangeName:v,skiStyleList:[{name:"Klassisk"},{name:"Fristil"}],skiStyle:y,handleChangeSkiStyle:S,skiLengthRange:P,handleSubmit:function(e){e.preventDefault(),B(O,a,m,P,y),s(""),u(""),p(""),L({name:"Klassisk"})}})},I=function(){return Object(i.jsx)(r,{className:"ScreensSkiLength",children:Object(i.jsxs)("div",{className:"mt-6 flex flex-col w-11/12 md:w-10/12 self-center md:shadow-md pb-8",children:[Object(i.jsx)(P,{}),Object(i.jsx)(v,{})]})})};var B=function(){return Object(i.jsx)(I,{})},R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,29)).then((function(n){var t=n.getCLS,a=n.getFID,l=n.getFCP,s=n.getLCP,c=n.getTTFB;t(e),a(e),l(e),s(e),c(e)}))},T=Object(h.a)({reducer:{skiLengthProfiles:p}});c.a.render(Object(i.jsx)(d.a,{store:T,children:Object(i.jsx)(B,{})}),document.getElementById("root")),R()}},[[28,1,2]]]);
//# sourceMappingURL=main.e912e9b3.chunk.js.map